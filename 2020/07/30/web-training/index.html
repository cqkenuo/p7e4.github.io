<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 培训体系之WEB安全 · p7e4</title><meta name="description" content="培训体系之WEB安全 - p7e4"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://p7e4.js.org/atom.xml" title="p7e4"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="https://github.com/p7e4" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">培训体系之WEB安全</h1><div class="post-info">Jul 30, 2020</div><div class="post-content"><h1 id="Web安全"><a href="#Web安全" class="headerlink" title="Web安全"></a>Web安全</h1><h2 id="WEB基础知识"><a href="#WEB基础知识" class="headerlink" title="WEB基础知识"></a>WEB基础知识</h2><p><img src="https://pic2.zhimg.com/133c88180340b844466e8fa5552e122b_r.jpg" alt="开局一张图"></p>
<h3 id="协议基础"><a href="#协议基础" class="headerlink" title="协议基础"></a>协议基础</h3><ul>
<li>tcp/ip</li>
<li>URL、域名与DNS</li>
<li>HTTP协议介绍<ul>
<li>请求方法</li>
<li>各字段功能</li>
<li>状态码</li>
<li>参数</li>
<li>跳转</li>
<li>cookie/session</li>
<li>编码</li>
<li>etc…</li>
</ul>
</li>
<li>HTTPS实现原理</li>
</ul>
<h3 id="相关工具"><a href="#相关工具" class="headerlink" title="相关工具"></a>相关工具</h3><ul>
<li>hackbar</li>
<li>Fiddler</li>
<li>Burp Suite基本使用</li>
<li>https抓包配置</li>
</ul>
<h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><ul>
<li>虚拟机</li>
<li>PHP(mysql)<ul>
<li>DVWA</li>
</ul>
</li>
<li>ASPX(mssql)</li>
<li>JSP</li>
<li>(Node.js)</li>
<li>(Flask Django)</li>
</ul>
<h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><ul>
<li>关系型数据库简介</li>
<li>mysql安装配置、基本命令</li>
<li>SQL基础、相关函数</li>
<li>相关工具<ul>
<li>phpmyadmin</li>
<li>navicat</li>
</ul>
</li>
</ul>
<h3 id="PHP语言基础"><a href="#PHP语言基础" class="headerlink" title="(PHP语言基础)"></a>(PHP语言基础)</h3><ul>
<li>基础语法，为后续理解漏洞原理准备</li>
</ul>
<h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><h3 id="搜索引擎"><a href="#搜索引擎" class="headerlink" title="搜索引擎"></a>搜索引擎</h3><ul>
<li>常规搜索语法<ul>
<li>敏感文件</li>
</ul>
</li>
<li>空间搜索引擎<ul>
<li>资产相关</li>
</ul>
</li>
</ul>
<h3 id="域名信息"><a href="#域名信息" class="headerlink" title="域名信息"></a>域名信息</h3><ul>
<li>Whois</li>
<li>备案信息</li>
<li>CDN<ul>
<li>寻找真实IP</li>
<li>SSL证书</li>
<li>解析记录</li>
<li>子域名</li>
<li>邮件头信息</li>
<li>空间搜索引擎</li>
<li>国外解析差异</li>
<li>扫描全网</li>
<li>源站信息泄露，如phpinfo</li>
</ul>
</li>
</ul>
<h3 id="子域收集"><a href="#子域收集" class="headerlink" title="子域收集"></a>子域收集</h3><ul>
<li>利用搜索引擎</li>
<li>证书透明度</li>
<li>域传送漏洞</li>
<li>Passive DNS</li>
<li>页面内容爬虫</li>
<li>解析记录</li>
<li>Rapid7 Open Data</li>
<li>枚举</li>
<li>工具<ul>
<li>OneForAll</li>
</ul>
</li>
</ul>
<h3 id="网站信息"><a href="#网站信息" class="headerlink" title="网站信息"></a>网站信息</h3><ul>
<li>端口扫描<ul>
<li>Nmap</li>
<li>Zenmap</li>
<li>RustScan</li>
<li>masscan</li>
</ul>
</li>
<li>指纹识别<ul>
<li>响应头</li>
<li>HTML</li>
<li>错误页面/模式</li>
<li>静态资源</li>
<li>favicon.ico</li>
<li>图片/logo</li>
<li>js/css</li>
<li>robots.txt</li>
<li>目录特征</li>
<li>powered by xxx</li>
<li>相关工具</li>
<li>webanalyzer/rules</li>
<li>TideFinger</li>
<li>whatweb</li>
</ul>
</li>
<li>目录扫描<ul>
<li>备份文件</li>
<li>源代码泄露.git/.svn</li>
<li>压缩包</li>
<li>txt</li>
<li>etc…</li>
</ul>
</li>
</ul>
<h2 id="漏洞分类"><a href="#漏洞分类" class="headerlink" title="漏洞分类"></a>漏洞分类</h2><h3 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h3><ul>
<li>基本原理</li>
<li>SQLi-lab、DVWA演示</li>
<li>分类<ul>
<li>字符型</li>
<li>数字型</li>
<li>搜索型</li>
</ul>
</li>
<li>手工注入</li>
<li>方法<ul>
<li>联合查询</li>
<li>报错</li>
<li>叠堆</li>
<li>盲注</li>
<li>布尔</li>
<li>时间</li>
<li>外带</li>
<li>(宽字节)</li>
</ul>
</li>
<li>注入点</li>
<li>读写文件</li>
<li>getshell</li>
<li>udf提权</li>
<li>二次注入</li>
<li>SQLmap使用<ul>
<li>tamper</li>
<li>os-shell实现</li>
<li>etc…</li>
</ul>
</li>
<li>防范<ul>
<li>过滤</li>
<li>预编译(参数化)</li>
<li>误使用</li>
<li>表列名不可用</li>
</ul>
</li>
</ul>
<h3 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h3><ul>
<li>HTML/JS简介</li>
<li>cookie/session</li>
<li>XSS原理</li>
<li>分类<ul>
<li>反射型XSS</li>
<li>储存型XSS</li>
<li>DOM XSS</li>
<li>Blind XSS</li>
</ul>
</li>
<li>HTML<ul>
<li>属性</li>
<li>事件</li>
<li>编码</li>
</ul>
</li>
<li>CSP</li>
<li>同源策略</li>
<li>CORS/JSONP</li>
<li>拓展</li>
<li>XSS平台</li>
<li>修复建议</li>
</ul>
<h3 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h3><ul>
<li>原理</li>
<li>利用<ul>
<li>xssor.io</li>
</ul>
</li>
<li>防护<ul>
<li>token</li>
<li>referer</li>
<li>samesite</li>
</ul>
</li>
</ul>
<h3 id="SSRF"><a href="#SSRF" class="headerlink" title="SSRF"></a>SSRF</h3><ul>
<li>简介</li>
<li>协议</li>
<li>redis利用</li>
<li>绕过<ul>
<li>IP变换(进制、合并)</li>
<li>xip.io</li>
<li>URL解析不动</li>
<li>跳转</li>
<li>DNS Rebinding</li>
<li>IDN</li>
<li>IPv6</li>
</ul>
</li>
</ul>
<h3 id="命令执行"><a href="#命令执行" class="headerlink" title="命令执行"></a>命令执行</h3><ul>
<li>高发场景</li>
<li>常见payload<ul>
<li>分割<code>;</code> <code>||</code> <code>|</code> <code>&amp;&amp;</code> <code>&amp;</code> <code>\r\n</code> 换行</li>
<li>反引号</li>
<li><code>$()</code></li>
</ul>
</li>
<li>回显技巧<ul>
<li>反弹shell</li>
<li>外带</li>
<li>DNS</li>
<li>HTTP</li>
<li>时间延迟</li>
</ul>
</li>
<li>绕过<ul>
<li>长度绕过</li>
<li>通配符</li>
<li>元字符</li>
</ul>
</li>
</ul>
<h3 id="代码执行"><a href="#代码执行" class="headerlink" title="代码执行"></a>代码执行</h3><ul>
<li>文件包含<ul>
<li>远程</li>
<li>本地</li>
<li>/proc/self/environ</li>
<li>session</li>
<li>日志</li>
<li>其他上传点</li>
<li>上传临时文件极限包含</li>
<li>smb</li>
</ul>
</li>
<li>文件上传<ul>
<li>目录穿越</li>
<li>前端绕过</li>
<li>黑名单</li>
<li>解析漏洞</li>
<li>MIME验证</li>
<li>写htaccess</li>
<li>条件竞争</li>
<li>二次渲染</li>
<li>Windows命名特性</li>
<li>压缩包解压</li>
</ul>
</li>
</ul>
<h3 id="信息泄露"><a href="#信息泄露" class="headerlink" title="信息泄露"></a>信息泄露</h3><ul>
<li>web敏感信息<ul>
<li>phpinfo</li>
<li>任意文件读取(下载)</li>
<li>目录穿越</li>
<li>PHP伪协议读取</li>
<li>备份文件</li>
<li>敏感文档等</li>
<li>令牌</li>
</ul>
</li>
<li>外部信息泄露<ul>
<li>Github</li>
<li>网盘</li>
<li>QQ群</li>
<li>其他三方平台</li>
</ul>
</li>
</ul>
<h3 id="XXE"><a href="#XXE" class="headerlink" title="XXE"></a>XXE</h3><ul>
<li>基本语法</li>
<li>DOS</li>
<li>任意文件读取</li>
<li>内网探测</li>
<li>目录枚举</li>
<li>外带</li>
<li>DOC/DOCX/SVG</li>
</ul>
<h3 id="模版注入"><a href="#模版注入" class="headerlink" title="模版注入"></a>模版注入</h3><ul>
<li>基础知识</li>
<li>常用payload: <code>49</code></li>
<li>寻找可利用的类</li>
<li>绕过<ul>
<li>反转</li>
<li>拼接</li>
<li>chr</li>
</ul>
</li>
</ul>
<h3 id="业务安全-amp-amp-逻辑漏洞"><a href="#业务安全-amp-amp-逻辑漏洞" class="headerlink" title="业务安全 &amp;&amp; 逻辑漏洞"></a>业务安全 &amp;&amp; 逻辑漏洞</h3><ul>
<li>爆破<ul>
<li>验证码安全</li>
<li>终端差异<ul>
<li>APP</li>
<li>ios</li>
<li>android</li>
<li>WEB</li>
<li>PC</li>
<li>mobie</li>
<li>小程序</li>
<li>公众号</li>
</ul>
</li>
<li>可识别(OCR)</li>
<li>重用</li>
<li>客户端回显</li>
<li>session为空</li>
<li>IP限制</li>
<li>伪造<ul>
<li>X-Forward-For</li>
<li>X-Real-IP</li>
</ul>
</li>
<li>代理池</li>
</ul>
</li>
<li>短信轰炸</li>
<li>弱口令</li>
<li>撞库</li>
<li>越权<ul>
<li>水平</li>
<li>垂直</li>
<li>越权获取敏感信息</li>
<li>电话</li>
<li>身份证</li>
<li>密码<br>-照片</li>
<li>etc…</li>
</ul>
</li>
<li>支付逻辑<ul>
<li>修改</li>
<li>价格</li>
<li>数量</li>
<li>总金额</li>
<li>重放</li>
<li>条件竞争</li>
</ul>
</li>
<li>注册<ul>
<li>覆盖</li>
<li>验证绕过</li>
</ul>
</li>
<li>任意密码重置</li>
<li>任意URL跳转</li>
</ul>
<h2 id="通用Bypass-waf技巧"><a href="#通用Bypass-waf技巧" class="headerlink" title="通用Bypass waf技巧"></a>通用Bypass waf技巧</h2><ul>
<li>waf探测/识别</li>
<li>Fuzzing方法</li>
<li>畸形数据包</li>
<li>http/1.1分块传输</li>
<li>参数污染</li>
<li>SQL<ul>
<li>注释</li>
</ul>
</li>
<li>文件上传<ul>
<li>等价替换</li>
<li>无字母webshell</li>
<li>编码/加密</li>
</ul>
</li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><ul>
<li>站点</li>
<li>漏扫<ul>
<li>msf</li>
<li>awvs</li>
<li>xray</li>
<li>burp</li>
<li>goby</li>
</ul>
</li>
<li>webshell管理<ul>
<li>菜刀</li>
<li>antSword</li>
<li>冰蝎</li>
</ul>
</li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2020/08/10/mybb-dom-xss/" class="prev">PREV</a><a href="/2020/07/23/requests_chunk/" class="next">NEXT</a></div><div class="copyright"><p>Copyright © p7e4 2020.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>